import './polyfills.server.mjs';
import{$ as F,A as d,B as m,C as ae,D as C,Da as Gt,E as A,Ea as Bt,F as p,G as ye,Ga as q,H as c,Ha as Ue,I as Ce,Ia as Ht,J as o,Ja as Ge,K as s,L as h,M as be,N as we,O as I,P as f,Q as _,R as Dt,S as L,T as l,U as j,V as At,W as Mt,X as nt,Y as rt,Z as ot,_ as k,a as Vt,aa as U,b as xt,c as Ne,ca as It,d as J,e as Et,f as ke,g as Te,ga as Pt,h as N,i as M,ia as Nt,j as Oe,k as X,ka as kt,l as ve,la as Q,m as St,ma as G,n as S,na as Tt,o as Re,oa as st,p as w,q as Le,qa as je,r as v,ra as B,s as y,sa as H,t as R,ta as Ot,u as ne,ua as Rt,v as re,va as Lt,w as Ft,wa as jt,x as O,y as oe,z as se,za as Ut}from"./chunk-J7OLOWGC.mjs";import{a as E,b as D}from"./chunk-KXIJJ5ZC.mjs";var qt=(()=>{class t{constructor(){this.title="Prueba-Frontend"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-root"]],standalone:!0,features:[F],decls:1,vars:0,template:function(n,r){n&1&&h(0,"router-outlet")},dependencies:[Bt],changeDetection:0})}}return t})();var ei=(()=>{class t{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||t)(m(ae),m(oe))}}static{this.\u0275dir=w({type:t})}}return t})(),ue=(()=>{class t extends ei{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=re(t)))(r||t)}})()}static{this.\u0275dir=w({type:t,features:[A]})}}return t})(),Y=new X(""),Oi={provide:Y,useExisting:N(()=>De),multi:!0},De=(()=>{class t extends ue{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=re(t)))(r||t)}})()}static{this.\u0275dir=w({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&f("change",function(u){return r.onChange(u.target.checked)})("blur",function(){return r.onTouched()})},features:[k([Oi]),A]})}}return t})(),Ri={provide:Y,useExisting:N(()=>T),multi:!0};function Li(){let t=st()?st().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ji=new X(""),T=(()=>{class t extends ei{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Li())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||t)(m(ae),m(oe),m(ji,8))}}static{this.\u0275dir=w({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&f("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[k([Ri]),A]})}}return t})();function $(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ti(t){return t!=null&&typeof t.length=="number"}var ht=new X(""),pt=new X(""),Ui=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,g=class{static min(i){return Gi(i)}static max(i){return Bi(i)}static required(i){return Hi(i)}static requiredTrue(i){return qi(i)}static email(i){return $i(i)}static minLength(i){return Wi(i)}static maxLength(i){return zi(i)}static pattern(i){return Yi(i)}static nullValidator(i){return ii(i)}static compose(i){return li(i)}static composeAsync(i){return ci(i)}};function Gi(t){return i=>{if($(i.value)||$(t))return null;let e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function Bi(t){return i=>{if($(i.value)||$(t))return null;let e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function Hi(t){return $(t.value)?{required:!0}:null}function qi(t){return t.value===!0?null:{required:!0}}function $i(t){return $(t.value)||Ui.test(t.value)?null:{email:!0}}function Wi(t){return i=>$(i.value)||!ti(i.value)?null:i.value.length<t?{minlength:{requiredLength:t,actualLength:i.value.length}}:null}function zi(t){return i=>ti(i.value)&&i.value.length>t?{maxlength:{requiredLength:t,actualLength:i.value.length}}:null}function Yi(t){if(!t)return ii;let i,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),n=>{if($(n.value))return null;let r=n.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function ii(t){return null}function ni(t){return t!=null}function ri(t){return It(t)?xt(t):t}function oi(t){let i={};return t.forEach(e=>{i=e!=null?E(E({},i),e):i}),Object.keys(i).length===0?null:i}function si(t,i){return i.map(e=>e(t))}function Zi(t){return!t.validate}function ai(t){return t.map(i=>Zi(i)?i:e=>i.validate(e))}function li(t){if(!t)return null;let i=t.filter(ni);return i.length==0?null:function(e){return oi(si(e,i))}}function di(t){return t!=null?li(ai(t)):null}function ci(t){if(!t)return null;let i=t.filter(ni);return i.length==0?null:function(e){let n=si(e,i).map(ri);return Et(n).pipe(J(oi))}}function ui(t){return t!=null?ci(ai(t)):null}function $t(t,i){return t===null?[i]:Array.isArray(t)?[...t,i]:[t,i]}function mi(t){return t._rawValidators}function hi(t){return t._rawAsyncValidators}function at(t){return t?Array.isArray(t)?t:[t]:[]}function He(t,i){return Array.isArray(t)?t.includes(i):t===i}function Wt(t,i){let e=at(i);return at(t).forEach(r=>{He(e,r)||e.push(r)}),e}function zt(t,i){return at(i).filter(e=>!He(t,e))}var qe=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=di(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=ui(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},ee=class extends qe{get formDirective(){return null}get path(){return null}},W=class extends qe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$e=class{constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ki={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Br=D(E({},Ki),{"[class.ng-submitted]":"isSubmitted"}),Z=(()=>{class t extends $e{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||t)(m(W,2))}}static{this.\u0275dir=w({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[A]})}}return t})(),me=(()=>{class t extends $e{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||t)(m(ee,10))}}static{this.\u0275dir=w({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&Ce("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[A]})}}return t})();var Ve="VALID",Be="INVALID",le="PENDING",xe="DISABLED",z=class{},We=class extends z{constructor(i,e){super(),this.value=i,this.source=e}},Ee=class extends z{constructor(i,e){super(),this.pristine=i,this.source=e}},Se=class extends z{constructor(i,e){super(),this.touched=i,this.source=e}},de=class extends z{constructor(i,e){super(),this.status=i,this.source=e}},lt=class extends z{constructor(i){super(),this.source=i}},dt=class extends z{constructor(i){super(),this.source=i}};function ft(t){return(Ke(t)?t.validators:t)||null}function Ji(t){return Array.isArray(t)?di(t):t||null}function gt(t,i){return(Ke(i)?i.asyncValidators:t)||null}function Xi(t){return Array.isArray(t)?ui(t):t||null}function Ke(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function pi(t,i,e){let n=t.controls;if(!(i?Object.keys(n):n).length)throw new Te(1e3,"");if(!n[e])throw new Te(1001,"")}function fi(t,i,e){t._forEachChild((n,r)=>{if(e[r]===void 0)throw new Te(1002,"")})}var ce=class{constructor(i,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Q(()=>this.statusReactive()),this.statusReactive=C(void 0),this._pristine=Q(()=>this.pristineReactive()),this.pristineReactive=C(!0),this._touched=Q(()=>this.touchedReactive()),this.touchedReactive=C(!1),this._events=new Vt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return G(this.statusReactive)}set status(i){G(()=>this.statusReactive.set(i))}get valid(){return this.status===Ve}get invalid(){return this.status===Be}get pending(){return this.status==le}get disabled(){return this.status===xe}get enabled(){return this.status!==xe}get pristine(){return G(this.pristineReactive)}set pristine(i){G(()=>this.pristineReactive.set(i))}get dirty(){return!this.pristine}get touched(){return G(this.touchedReactive)}set touched(i){G(()=>this.touchedReactive.set(i))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(Wt(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Wt(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(zt(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(zt(i,this._rawAsyncValidators))}hasValidator(i){return He(this._rawValidators,i)}hasAsyncValidator(i){return He(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(D(E({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new Se(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),e&&i.emitEvent!==!1&&this._events.next(new Se(!1,n))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(D(E({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new Ee(!1,n))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),e&&i.emitEvent!==!1&&this._events.next(new Ee(!0,n))}markAsPending(i={}){this.status=le;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new de(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(D(E({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=xe,this.errors=null,this._forEachChild(r=>{r.disable(D(E({},i),{onlySelf:!0}))}),this._updateValue();let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new We(this.value,n)),this._events.next(new de(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(D(E({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=Ve,this._forEachChild(n=>{n.enable(D(E({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(D(E({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ve||this.status===le)&&this._runAsyncValidator(n,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new We(this.value,e)),this._events.next(new de(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(D(E({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xe:Ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=le,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=ri(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(i,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new de(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,n)}_initObservables(){this.valueChanges=new O,this.statusChanges=new O}_calculateStatus(){return this._allControlsDisabled()?xe:this.errors?Be:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(le)?le:this._anyControlsHaveStatus(Be)?Be:Ve}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new Ee(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new Se(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Ke(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=Ji(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=Xi(this._rawAsyncValidators)}},ze=class extends ce{constructor(i,e,n){super(ft(e),gt(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){fi(this,!0,i),Object.keys(i).forEach(n=>{pi(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(n=>{let r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((r,a)=>{n=e(n,r,a)}),n}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var ct=class extends ze{};var Ae=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Me}),Me="always";function gi(t,i){return[...i.path,t]}function ut(t,i,e=Me){_t(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(t.disabled),en(t,i),nn(t,i),tn(t,i),Qi(t,i)}function Yt(t,i,e=!0){let n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),Ze(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ye(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function Qi(t,i){if(i.valueAccessor.setDisabledState){let e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function _t(t,i){let e=mi(t);i.validator!==null?t.setValidators($t(e,i.validator)):typeof e=="function"&&t.setValidators([e]);let n=hi(t);i.asyncValidator!==null?t.setAsyncValidators($t(n,i.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();Ye(i._rawValidators,r),Ye(i._rawAsyncValidators,r)}function Ze(t,i){let e=!1;if(t!==null){if(i.validator!==null){let r=mi(t);if(Array.isArray(r)&&r.length>0){let a=r.filter(u=>u!==i.validator);a.length!==r.length&&(e=!0,t.setValidators(a))}}if(i.asyncValidator!==null){let r=hi(t);if(Array.isArray(r)&&r.length>0){let a=r.filter(u=>u!==i.asyncValidator);a.length!==r.length&&(e=!0,t.setAsyncValidators(a))}}}let n=()=>{};return Ye(i._rawValidators,n),Ye(i._rawAsyncValidators,n),e}function en(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&_i(t,i)})}function tn(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&_i(t,i),t.updateOn!=="submit"&&t.markAsTouched()})}function _i(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nn(t,i){let e=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function rn(t,i){t==null,_t(t,i)}function on(t,i){return Ze(t,i)}function vi(t,i){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function sn(t){return Object.getPrototypeOf(t.constructor)===ue}function an(t,i){t._syncPendingControls(),i.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function yi(t,i){if(!i)return null;Array.isArray(i);let e,n,r;return i.forEach(a=>{a.constructor===T?e=a:sn(a)?n=a:r=a}),r||n||e||null}function ln(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function Zt(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function Kt(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fe=class extends ce{constructor(i=null,e,n){super(ft(e),gt(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ke(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Kt(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Zt(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Zt(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){Kt(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var dn=t=>t instanceof Fe;var cn={provide:W,useExisting:N(()=>vt)},Jt=Promise.resolve(),vt=(()=>{class t extends W{constructor(e,n,r,a,u,b){super(),this._changeDetectorRef=u,this.callSetDisabledState=b,this.control=new Fe,this._registered=!1,this.name="",this.update=new O,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=yi(this,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),vi(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ut(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Jt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&kt(n);Jt.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?gi(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||t)(m(ee,9),m(ht,10),m(pt,10),m(Y,10),m(Nt,8),m(Ae,8))}}static{this.\u0275dir=w({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[k([cn]),A,Le]})}}return t})(),he=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275dir=w({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),un={provide:Y,useExisting:N(()=>yt),multi:!0},yt=(()=>{class t extends ue{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=re(t)))(r||t)}})()}static{this.\u0275dir=w({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&f("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[k([un]),A]})}}return t})(),mn={provide:Y,useExisting:N(()=>Ct),multi:!0};var hn=(()=>{class t{constructor(){this._accessors=[]}add(e,n){this._accessors.push([e,n])}remove(e){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===e){this._accessors.splice(n,1);return}}select(e){this._accessors.forEach(n=>{this._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}_isSameGroup(e,n){return e[0].control?e[0]._parent===n._control._parent&&e[1].name===n.name:!1}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ct=(()=>{class t extends ue{constructor(e,n,r,a){super(e,n),this._registry=r,this._injector=a,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=St(Ae,{optional:!0})??Me}ngOnInit(){this._control=this._injector.get(W),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(n){return new(n||t)(m(ae),m(oe),m(hn),m(Ft))}}static{this.\u0275dir=w({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,r){n&1&&f("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[k([mn]),A]})}}return t})();var Ci=new X("");var pn={provide:ee,useExisting:N(()=>te)},te=(()=>{class t extends ee{get submitted(){return G(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,n,r){super(),this.callSetDisabledState=r,this._submitted=Q(()=>this._submittedReactive()),this._submittedReactive=C(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new O,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ze(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return ut(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Yt(e.control||null,e,!1),ln(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),an(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new lt(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new dt(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(Yt(n||null,e),dn(r)&&(ut(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);rn(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&on(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_t(this.form,this),this._oldForm&&Ze(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||t)(m(ht,10),m(pt,10),m(Ae,8))}}static{this.\u0275dir=w({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&f("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[k([pn]),A,Le]})}}return t})();var fn={provide:W,useExisting:N(()=>ie)},ie=(()=>{class t extends W{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.name=null,this.update=new O,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=yi(this,a)}ngOnChanges(e){this._added||this._setUpControl(),vi(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||t)(m(ee,13),m(ht,10),m(pt,10),m(Y,10),m(Ci,8))}}static{this.\u0275dir=w({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[k([fn]),A,Le]})}}return t})(),gn={provide:Y,useExisting:N(()=>pe),multi:!0};function bi(t,i){return t==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${t}: ${i}`.slice(0,50))}function _n(t){return t.split(":")[0]}var pe=(()=>{class t extends ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),r=bi(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=_n(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=re(t)))(r||t)}})()}static{this.\u0275dir=w({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&f("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[k([gn]),A]})}}return t})(),Je=(()=>{class t{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(bi(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||t)(m(oe),m(ae),m(pe,9))}}static{this.\u0275dir=w({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),vn={provide:Y,useExisting:N(()=>wi),multi:!0};function Xt(t,i){return t==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${t}: ${i}`.slice(0,50))}function yn(t){return t.split(":")[0]}var wi=(()=>{class t extends ue{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(a=>this._getOptionId(a));n=(a,u)=>{a._setSelected(r.indexOf(u.toString())>-1)}}else n=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],a=n.selectedOptions;if(a!==void 0){let u=a;for(let b=0;b<u.length;b++){let Pe=u[b],it=this._getOptionValue(Pe.value);r.push(it)}}else{let u=n.options;for(let b=0;b<u.length;b++){let Pe=u[b];if(Pe.selected){let it=this._getOptionValue(Pe.value);r.push(it)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=yn(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=re(t)))(r||t)}})()}static{this.\u0275dir=w({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&f("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[k([vn]),A]})}}return t})(),Xe=(()=>{class t{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Xt(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Xt(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||t)(m(oe),m(ae),m(wi,9))}}static{this.\u0275dir=w({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();var Vi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Re({type:t})}static{this.\u0275inj=Oe({})}}return t})(),mt=class extends ce{constructor(i,e,n){super(ft(e),gt(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,n={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,e={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,n={}){let r=this._adjustIndex(i);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){fi(this,!1,i),i.forEach((n,r)=>{pi(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(i.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((n,r)=>{n.reset(i[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,n)=>{i(e,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function Qt(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var fe=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),a={};return Qt(n)?a=n:n!==null&&(a.validators=n.validator,a.asyncValidators=n.asyncValidator),new ze(r,a)}record(e,n=null){let r=this._reduceControls(e);return new ct(r,n)}control(e,n,r){let a={};return this.useNonNullable?(Qt(n)?a=n:(a.validators=n,a.asyncValidators=r),new Fe(e,D(E({},a),{nonNullable:!0}))):new Fe(e,n,r)}array(e,n,r){let a=e.map(u=>this._createControl(u));return new mt(a,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof Fe)return e;if(e instanceof ce)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,a=e.length>2?e[2]:null;return this.control(n,r,a)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var xi=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ae,useValue:e.callSetDisabledState??Me}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Re({type:t})}static{this.\u0275inj=Oe({imports:[Vi]})}}return t})(),ge=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ci,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ae,useValue:e.callSetDisabledState??Me}]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=Re({type:t})}static{this.\u0275inj=Oe({imports:[Vi]})}}return t})();var V=function(t){return t.Init="init",t.Loading="loading",t.Success="success",t.Failed="failed",t}(V||{});var x=class{static numeric(i){return i.value!==null&&i.value!==void 0&&isNaN(i.value)?{numeric:!0}:null}static MatchValidator(i,e){return n=>{let r=n.get(i),a=n.get(e);return!r||!a?null:r.value!==a.value?{mismatch:!0}:null}}static validRegExp(i){let e={},n=i.value.length,r=/(?=\d)/.test(i.value),a=/(?=[^a-z]*[a-z])/.test(i.value),u=/(?=[^A-Z]*[A-Z])/.test(i.value),b=/.*[|!"#$%&@/()=?ยก'*+:;,.-]/.test(i.value);return(n<8||n>16)&&(e.lenMaxMin=!0),r||(e.hasNumber=!0),a||(e.hasLower=!0),u||(e.hasUpper=!0),b||(e.hasSpecial=!0),Object.keys(e).length?e:null}static noLeadingOrTrailingWhitespaceValidator(i){let e=i.value;if(e&&typeof e=="string"){let n=e.trim();if(e!==n)return{leadingOrTrailingWhitespace:!0}}return null}static noWhitespaceValidator(i){return i.value&&i.value.trim().length===0?{required:!0}:null}};var K=(()=>{class t{constructor(){this.USER_KEY="user",this.AUTH_KEY="auth",this.mockUserData={email:"test@example.com",password:"password123",name:"Test User"},this.user=C(null),this.isAuthenticated=Q(()=>!!this.user()),this.initializeMockUser()}initializeMockUser(){if(this.isBrowser()){let e=localStorage.getItem(this.USER_KEY);e||localStorage.setItem(this.USER_KEY,JSON.stringify(this.mockUserData)),this.user.set(JSON.parse(e||JSON.stringify(this.mockUserData))),localStorage.getItem(this.AUTH_KEY)==="true"?this.user.set(this.getSavedUser()):this.user.set(null)}}isBrowser(){return typeof window<"u"}login(e,n){return Ne({email:e,password:n}).pipe(ke(1e3),J(r=>{let a=this.getSavedUser();if(!a)throw new Error("No user found.");if(r.email===a.email&&r.password===a.password)return this.setSession(a),!0;throw new Error("Invalid credentials.")}))}register(e,n,r){if(!this.isValidEmail(n))throw new Error("Invalid email format.");if(r.length<8)throw new Error("Password must be at least 8 characters long.");return Ne(!0).pipe(ke(1e3),J(()=>{let a={name:e,email:n,password:r};return this.setSession(a),!0}))}logout(){this.isBrowser()&&(localStorage.removeItem(this.AUTH_KEY),localStorage.removeItem(this.USER_KEY)),this.user.set(null)}isAvailable(e){let n=e!==this.mockUserData.email;return Ne({isAvailable:n}).pipe(ke(1e3))}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}getSavedUser(){if(this.isBrowser()){let e=localStorage.getItem(this.USER_KEY);return e?JSON.parse(e):null}return null}setSession(e){this.isBrowser()&&(localStorage.setItem(this.USER_KEY,JSON.stringify(e)),localStorage.setItem(this.AUTH_KEY,"true")),this.user.set(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cn(t,i){t&1&&(o(0,"p",11),l(1," Email is required "),s())}function bn(t,i){t&1&&(o(0,"p",11),l(1," Enter a valid email "),s())}function wn(t,i){if(t&1&&(o(0,"div"),p(1,Cn,2,0,"p",8)(2,bn,2,0,"p",8),s()),t&2){let e=_();d(),c("ngIf",e.loginForm.controls.email.hasError("required")),d(),c("ngIf",e.loginForm.controls.email.hasError("email"))}}function Vn(t,i){t&1&&(o(0,"p",13),l(1," This field is mandatory "),s())}function xn(t,i){t&1&&(o(0,"p",13),l(1," Password must be at least 8 characters "),s())}function En(t,i){if(t&1&&(o(0,"div"),p(1,Vn,2,0,"p",12)(2,xn,2,0,"p",12),s()),t&2){let e=_();d(),c("ngIf",e.loginForm.controls.password.hasError("required")),d(),c("ngIf",e.loginForm.controls.password.hasError("minlength"))}}function Sn(t,i){t&1&&(o(0,"div",11),l(1," Invalid credentials. Please try again. "),s())}function Fn(t,i){t&1&&(be(0),l(1,"Loading..."),we())}function Dn(t,i){t&1&&l(0,"Login")}var Ei=(()=>{class t{constructor(e,n,r,a){this.fb=e,this.authService=n,this.router=r,this.route=a,this.loginForm=this.fb.nonNullable.group({email:["",[g.required,g.email,x.noLeadingOrTrailingWhitespaceValidator]],password:["",[g.required,g.minLength(8),x.noWhitespaceValidator]]}),this.showPassword=C(!1),this.status=C(V.Init),this.AuthStatus=V,this.route.queryParamMap.subscribe(u=>{let b=u.get("email");b&&this.loginForm.controls.email.setValue(b)})}onSubmit(){if(this.loginForm.valid){this.status.set(V.Loading);let{email:e,password:n}=this.loginForm.getRawValue();this.authService.login(e,n).subscribe({next:r=>{r?(this.status.set(V.Success),this.router.navigate(["/products"])):this.status.set(V.Failed)},error:()=>{this.status.set(V.Failed)}})}else this.loginForm.markAllAsTouched()}static{this.\u0275fac=function(n){return new(n||t)(m(fe),m(K),m(q),m(Gt))}}static{this.\u0275cmp=S({type:t,selectors:[["app-login-form"]],standalone:!0,features:[F],decls:15,vars:11,consts:[["loginText",""],[1,"flex","flex-col","space-y-4",3,"ngSubmit","formGroup"],["formControlName","email","type","email","placeholder","Email",1,"p-2","border","rounded","w-full"],[4,"ngIf"],[1,"relative"],["formControlName","password","placeholder","Enter password",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2","p-2",3,"type"],["type","button",1,"p-2","absolute","right-2",3,"click"],["alt","Toggle Password Visibility",1,"w-6","h-6",3,"src"],["class","text-red-500 text-xs",4,"ngIf"],["type","submit",1,"bg-blue-500","disabled:bg-blue-300","text-white","p-2","rounded",3,"disabled"],[4,"ngIf","ngIfElse"],[1,"text-red-500","text-xs"],["class","font-medium text-red-500 text-xs mt-1 ml-1",4,"ngIf"],[1,"font-medium","text-red-500","text-xs","mt-1","ml-1"]],template:function(n,r){if(n&1){let a=I();o(0,"form",1),f("ngSubmit",function(){return v(a),y(r.onSubmit())}),o(1,"div"),h(2,"input",2),p(3,wn,3,2,"div",3),s(),o(4,"div")(5,"div",4),h(6,"input",5),o(7,"button",6),f("click",function(){return v(a),y(r.showPassword.set(!r.showPassword()))}),h(8,"img",7),s()(),p(9,En,3,2,"div",3),s(),p(10,Sn,2,0,"div",8),o(11,"button",9),p(12,Fn,2,0,"ng-container",10)(13,Dn,1,0,"ng-template",null,0,U),s()()}if(n&2){let a=L(14);c("formGroup",r.loginForm),d(2),ye("aria-invalid",r.loginForm.controls.email.invalid)("aria-describedby",r.loginForm.controls.email.invalid?"email-error":null),d(),c("ngIf",r.loginForm.controls.email.touched&&r.loginForm.controls.email.invalid),d(3),c("type",r.showPassword()?"text":"password"),d(2),c("src",r.showPassword()?"https://img.icons8.com/?size=100&id=85028&format=png&color=000000":"https://img.icons8.com/?size=100&id=22021&format=png&color=000000 ",se),d(),c("ngIf",r.loginForm.controls.password.touched&&r.loginForm.controls.password.invalid),d(),c("ngIf",r.status()===r.AuthStatus.Failed),d(),c("disabled",r.status()===r.AuthStatus.Loading),d(),c("ngIf",r.status()===r.AuthStatus.Loading)("ngIfElse",a)}},dependencies:[ge,he,T,Z,me,te,ie,H,B],styles:["form[_ngcontent-%COMP%]   .relative[_ngcontent-%COMP%]{position:relative}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:2.5rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{right:0}"]})}}return t})();var Si=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-login"]],standalone:!0,features:[F],decls:15,vars:0,consts:[[1,"w-screen","h-screen","bg-gray-50","flex","items-center","justify-center","sm:shadow-lg"],[1,"relative","w-full","sm:w-7/12","md:w-6/12","lg:w-4/12","bg-white","rounded","shadow-lg","py-4","px-4","md:px-9"],[1,"py-6","flex","flex-col","items-center","space-y-4"],[1,"text-5xl","font-extrabold","text-transparent","bg-clip-text","bg-gradient-to-r","from-blue-600","to-purple-600","drop-shadow-md","p-3"],["width","80px","height","80px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","12","cy","9","r","3","stroke","#1C274C","stroke-width","1.5"],["d","M17.9691 20C17.81 17.1085 16.9247 15 11.9999 15C7.07521 15 6.18991 17.1085 6.03076 20","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],["d","M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],[1,"mb-4"],[1,"my-4","border-b-1","border-r-gray-300"],[1,"flex","justify-center","items-center","space-x-0","space-y-2","md:space-x-2","md:space-y-0","flex-col","md:flex-row"],["routerLink","/register",1,"text-blue-600"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),l(4," Sign In! "),s(),R(),o(5,"svg",4),h(6,"circle",5)(7,"path",6)(8,"path",7),s()(),ne(),o(9,"div",8),h(10,"app-login-form"),s(),h(11,"hr",9),o(12,"div",10)(13,"a",11),l(14,"Sign up for an account"),s()()()())},dependencies:[Ei,Ge,Ue],changeDetection:0})}}return t})();var Fi=(()=>{class t{constructor(e,n){this.authService=e,this.router=n}canActivate(){return this.authService.isAuthenticated()?!0:(this.router.navigate(["/login"]),!1)}static{this.\u0275fac=function(n){return new(n||t)(ve(K),ve(q))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var tt=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://6704b9d1ab8a8f8927349eb0.mockapi.io/api/products/products"}getProducts(){return this.http.get(`${this.apiUrl}`)}getProductById(e){return this.http.get(`${this.apiUrl}/${e}`)}getCategories(){return this.http.get(`${this.apiUrl}`).pipe(J(e=>{let n=e.map(r=>r.category);return Array.from(new Set(n))}))}createProduct(e){return this.http.post(this.apiUrl,e)}updateProduct(e,n){return this.http.put(`${this.apiUrl}/${e}`,n)}deleteProduct(e){return this.http.delete(`${this.apiUrl}/${e}`)}static{this.\u0275fac=function(n){return new(n||t)(ve(Ot))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _e=(()=>{class t{constructor(){}handleError(e,n){console.error(n,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function An(t,i){t&1&&(o(0,"div",28),l(1," Product name is required. "),s())}function Mn(t,i){t&1&&(o(0,"div",28),l(1," Price must be a positive number. "),s())}function In(t,i){t&1&&(o(0,"div",28),l(1," Stock must be a positive number. "),s())}function Pn(t,i){if(t&1&&(o(0,"option",29),l(1),s()),t&2){let e=i.$implicit;c("value",e),d(),j(e)}}function Nn(t,i){t&1&&(o(0,"div",28),l(1," Category is required. "),s())}function kn(t,i){t&1&&(o(0,"div",28),l(1," Description is required. "),s())}function Tn(t,i){t&1&&(o(0,"p",31),l(1," Image URL is required "),s())}function On(t,i){t&1&&(o(0,"p",31),l(1," Please enter a valid URL (starting with http:// or https://) "),s())}function Rn(t,i){if(t&1&&(o(0,"div"),p(1,Tn,2,0,"p",30)(2,On,2,0,"p",30),s()),t&2){let e=_();d(),c("ngIf",e.productForm.controls.image.hasError("required")),d(),c("ngIf",e.productForm.controls.image.hasError("pattern"))}}var Ai=(()=>{class t{constructor(e,n,r){this.fb=e,this.productService=n,this.handler=r,this.product=null,this.formSubmit=new O,this.cancel=new O,this.categories=C([]),this.productForm=this.fb.group({name:["",[g.required,x.noWhitespaceValidator]],description:["",[g.required,x.noWhitespaceValidator]],price:[0,[g.required,g.min(0),x.numeric]],stock:[0,[g.required,g.min(0),x.numeric]],isAvailable:[!0],category:["",[g.required,x.noLeadingOrTrailingWhitespaceValidator]],image:["",[g.required,g.pattern("https?://.+")]]})}ngOnInit(){this.product&&this.productForm.patchValue(this.product),this.productService.getCategories().subscribe({next:e=>{this.categories.set(e)},error:e=>{this.handler.handleError("Error fetching categories",e)}})}onSubmit(){this.productForm.valid&&this.formSubmit.emit(this.productForm.value)}onCancel(){this.cancel.emit()}static{this.\u0275fac=function(n){return new(n||t)(m(fe),m(tt),m(_e))}}static{this.\u0275cmp=S({type:t,selectors:[["app-product-form"]],inputs:{product:"product"},outputs:{formSubmit:"formSubmit",cancel:"cancel"},standalone:!0,features:[F],decls:51,vars:13,consts:[[1,"modal-container"],[1,"product-form","w-full","md:w-96","lg:w-[600px]","mx-auto","p-4","bg-white","rounded","shadow-md","overflow-y-auto","h-[80vh]"],[1,"text-lg","md:text-xl","font-bold","mb-4","text-center"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4",3,"ngSubmit","formGroup"],[1,"relative"],["for","name",1,"block","text-sm","md:text-base","font-medium","mb-1"],["formControlName","name","type","text","id","name","placeholder","Enter product name",1,"w-full","border","border-gray-300","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition"],["class","text-red-500 text-xs mt-1",4,"ngIf"],["for","price",1,"block","text-sm","md:text-base","font-medium","mb-1"],["formControlName","price","type","number","id","price","placeholder","Enter price",1,"w-full","border","border-gray-300","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition"],["for","stock",1,"block","text-sm","md:text-base","font-medium","mb-1"],["formControlName","stock","type","number","id","stock","placeholder","Enter stock quantity",1,"w-full","border","border-gray-300","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition"],["for","category",1,"block","text-sm","md:text-base","font-medium","mb-1"],["formControlName","category","id","category",1,"w-full","border","border-gray-300","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition"],[3,"value",4,"ngFor","ngForOf"],[1,"relative","lg:col-span-2"],["for","description",1,"block","text-sm","md:text-base","font-medium","mb-1"],["formControlName","description","id","description","placeholder","Enter product description",1,"w-full","border","border-gray-300","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition"],["for","image",1,"block","text-sm","md:text-base","font-medium","mb-1"],["formControlName","image","type","text","id","image","placeholder","Enter product image URL",1,"w-full","border","border-gray-300","p-2","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-400","focus:border-transparent","transition"],[4,"ngIf"],[1,"flex","items-center"],["formControlName","isAvailable","type","checkbox","id","isAvailable",1,"mr-2"],["for","isAvailable",1,"text-sm","md:text-base","font-medium"],[1,"lg:col-span-2","flex","flex-col","lg:flex-row","justify-between","space-y-4","lg:space-y-0","lg:space-x-4"],["type","submit",1,"flex","items-center","disabled:bg-blue-300","bg-blue-500","text-white","py-2","px-3","rounded","w-full","justify-center","transition",3,"disabled"],["type","button",1,"flex","items-center","bg-gray-500","text-white","py-2","px-3","rounded","w-full","justify-center","transition",3,"click"],["type","button",1,"flex","items-center","bg-red-500","text-white","py-2","px-3","rounded","w-full","justify-center","transition",3,"click"],[1,"text-red-500","text-xs","mt-1"],[3,"value"],["class","text-red-500 text-xs mt-1 ml-1",4,"ngIf"],[1,"text-red-500","text-xs","mt-1","ml-1"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),l(3),s(),o(4,"form",3),f("ngSubmit",function(){return r.onSubmit()}),o(5,"div",4)(6,"label",5),l(7,"Product Name"),s(),h(8,"input",6),p(9,An,2,0,"div",7),s(),o(10,"div",4)(11,"label",8),l(12,"Price"),s(),h(13,"input",9),p(14,Mn,2,0,"div",7),s(),o(15,"div",4)(16,"label",10),l(17,"Stock"),s(),h(18,"input",11),p(19,In,2,0,"div",7),s(),o(20,"div",4)(21,"label",12),l(22,"Category"),s(),o(23,"select",13),p(24,Pn,2,2,"option",14),s(),p(25,Nn,2,0,"div",7),s(),o(26,"div",15)(27,"label",16),l(28,"Description"),s(),h(29,"textarea",17),p(30,kn,2,0,"div",7),s(),o(31,"div",15)(32,"label",18),l(33,"Product Image URL"),s(),o(34,"div",4),h(35,"input",19),s(),p(36,Rn,3,2,"div",20),s(),o(37,"div",21),h(38,"input",22),o(39,"label",23),l(40,"Available"),s()(),o(41,"div",24)(42,"button",25)(43,"span"),l(44),s()(),o(45,"button",26),f("click",function(){return r.productForm.reset()}),o(46,"span"),l(47,"Reset"),s()(),o(48,"button",27),f("click",function(){return r.onCancel()}),o(49,"span"),l(50,"Cancel"),s()()()()()()),n&2&&(d(3),j(r.product?"Edit Product":"Add Product"),d(),c("formGroup",r.productForm),d(4),ye("aria-invalid",r.productForm.controls.name.invalid)("aria-describedby",r.productForm.controls.name.invalid?"name-error":null),d(),c("ngIf",r.productForm.controls.name.invalid&&r.productForm.controls.name.touched),d(5),c("ngIf",r.productForm.controls.price.invalid&&r.productForm.controls.price.touched),d(5),c("ngIf",r.productForm.controls.stock.invalid&&r.productForm.controls.stock.touched),d(5),c("ngForOf",r.categories()),d(),c("ngIf",r.productForm.controls.category.invalid&&r.productForm.controls.category.touched),d(5),c("ngIf",r.productForm.controls.description.invalid&&r.productForm.controls.description.touched),d(6),c("ngIf",r.productForm.controls.image.touched&&r.productForm.controls.image.invalid),d(6),c("disabled",r.productForm.invalid),d(2),j(r.product?"Update Product":"Add Product"))},dependencies:[ge,he,Je,Xe,T,yt,De,pe,Z,me,te,ie,H,je,B]})}}return t})();function Ln(t,i){if(t&1){let e=I();o(0,"button",30),f("click",function(){v(e);let r=_();return y(r.addProduct())}),h(1,"img",31),s()}}function jn(t,i){if(t&1&&(o(0,"option"),l(1),s()),t&2){let e=i.$implicit;d(),j(e)}}function Un(t,i){t&1&&(o(0,"div",32)(1,"div",33)(2,"p",34),l(3,"No products found"),s(),o(4,"p",35),l(5,"Try adjusting your filters to find more results."),s()()())}function Gn(t,i){if(t&1){let e=I();o(0,"div",36)(1,"app-product-form",37),f("formSubmit",function(r){v(e);let a=_();return y(a.onFormSubmit(r))})("cancel",function(){v(e);let r=_();return y(r.onCancel())}),s()()}if(t&2){let e=_();d(),c("product",e.selectedProduct())}}function Bn(t,i){t&1&&(o(0,"p"),l(1,"In stock"),s())}function Hn(t,i){t&1&&(o(0,"p",58),l(1,"Out of stock"),s())}function qn(t,i){if(t&1){let e=I();o(0,"div",40),h(1,"img",41),o(2,"h3",42),l(3),s(),o(4,"p",43),l(5),s(),o(6,"p",44),l(7),s(),p(8,Bn,2,0,"p",45)(9,Hn,2,0,"ng-template",null,1,U),o(11,"div",46)(12,"button",47),f("click",function(){let r=v(e).$implicit,a=_(2);return y(a.editProduct(r))}),l(13,"Edit"),s(),o(14,"button",48),f("click",function(){let r=v(e).$implicit,a=_(2);return y(a.deleteProduct(r.id))}),R(),o(15,"svg",49),h(16,"g",50)(17,"g",51),o(18,"g",52),h(19,"path",53)(20,"path",54)(21,"path",55)(22,"path",56)(23,"path",57),s()()()()()}if(t&2){let e=i.$implicit,n=L(10);d(),Dt("alt",e.name),c("src",e.image,se),d(2),j(e.name),d(2),j(e.description),d(2),At("Price: $",e.price,""),d(),c("ngIf",e.isAvailable)("ngIfElse",n)}}function $n(t,i){if(t&1&&(o(0,"div")(1,"div",38),p(2,qn,24,7,"div",39),s()()),t&2){let e=_();Ce("opacity-50",e.isAddingProduct||e.selectedProduct()),d(2),c("ngForOf",e.paginatedProducts())}}function Wn(t,i){t&1&&(o(0,"p",59),l(1,"No products available."),s())}function zn(t,i){if(t&1){let e=I();o(0,"div",60)(1,"button",61),f("click",function(){v(e);let r=_();return y(r.previousPage())}),R(),o(2,"svg",62),h(3,"path",63),s()(),ne(),o(4,"span",64),l(5),s(),o(6,"button",61),f("click",function(){v(e);let r=_();return y(r.nextPage())}),R(),o(7,"svg",62),h(8,"path",65),s()()()}if(t&2){let e=_();d(),c("disabled",e.currentPage()===1),d(4),Mt("",e.currentPage()," / ",e.totalPages,""),d(),c("disabled",e.currentPage()===e.totalPages)}}var Mi=(()=>{class t{constructor(e,n,r,a){this.productService=e,this.authService=n,this.router=r,this.handler=a,this.products=C([]),this.categories=C([]),this.currentPage=C(1),this.pageSize=C(6),this.filterName=C(""),this.filterCategory=C(""),this.filterAvailability=C(""),this.filterPriceRange=C(""),this.selectedProduct=C(null),this.isAddingProduct=!1}ngOnInit(){this.loadProducts()}loadProducts(){this.productService.getProducts().subscribe({next:e=>{this.products.set(e.map(r=>D(E({},r),{image:"https://picsum.photos/400"})));let n=[...new Set(this.products().map(r=>r.category))];this.categories.set(n)},error:e=>{this.handler.handleError("Error fetching products",e)}})}filteredProducts(){return this.products().filter(e=>{let n=this.filterName()?e.name.toLowerCase().includes(this.filterName().toLowerCase()):!0,r=this.filterCategory()?e.category===this.filterCategory():!0,a=this.filterAvailability()?e.isAvailable.toString()===this.filterAvailability():!0,u=this.matchPriceRange(e.price);return n&&r&&a&&u})}matchPriceRange(e){switch(this.filterPriceRange()){case"low":return e<50;case"medium":return e>=50&&e<=100;case"high":return e>100;default:return!0}}addProduct(){this.isAddingProduct=!0,this.selectedProduct.set(null)}editProduct(e){this.selectedProduct.set(e),this.isAddingProduct=!1}onFormSubmit(e){this.selectedProduct()?this.productService.updateProduct(this.selectedProduct().id,e).subscribe({next:n=>{let r=this.products().findIndex(a=>a.id===this.selectedProduct().id);if(r!==-1){let a=[...this.products()];a[r]=n,this.products.set(a)}this.selectedProduct.set(null)},error:n=>{this.handler.handleError("Error updating product",n)}}):this.productService.createProduct(e).subscribe({next:n=>{this.products.set([...this.products(),n]),this.isAddingProduct=!1},error:n=>{this.handler.handleError("Error creating product",n)}})}deleteProduct(e){this.productService.deleteProduct(e).subscribe({next:()=>{this.products.set(this.products().filter(n=>n.id!==e))},error:n=>this.handler.handleError("Error deleting product",n)})}logout(){this.authService.logout(),this.router.navigate(["/login"])}onCancel(){this.isAddingProduct=!1,this.selectedProduct.set(null)}get totalPages(){let e=this.filteredProducts().length;return Math.ceil(e/this.pageSize())}hasMultiplePages(){return this.filteredProducts().length>this.pageSize()}paginatedProducts(){let e=(this.currentPage()-1)*this.pageSize(),n=e+this.pageSize();return this.filteredProducts().slice(e,n)}previousPage(){this.currentPage()>1&&this.currentPage.update(e=>e-1)}nextPage(){this.currentPage()<this.totalPages&&this.currentPage.update(e=>e+1)}resetFilters(){this.filterName.set(""),this.filterCategory.set(""),this.filterAvailability.set(""),this.filterPriceRange.set(""),this.resetPagination(),this.loadProducts()}resetPagination(){this.currentPage.set(1)}static{this.\u0275fac=function(n){return new(n||t)(m(tt),m(K),m(q),m(_e))}}static{this.\u0275cmp=S({type:t,selectors:[["app-product-list"]],standalone:!0,features:[F],decls:59,vars:14,consts:[["noProducts",""],["outOfStock",""],[1,"text-3xl","font-bold","text-center","w-full","pb-4","shadow-lg"],[1,"container","w-full","mx-auto","p-4"],[1,"mb-4","flex","space-x-4"],["type","button","aria-label","Logout","matTooltip","Logout",1,"btn-icon",3,"click"],["src","../../../../../assets/logout-svgrepo-com.svg","alt","Logout Icon","loading","lazy",1,"w-10","h-10","svg-icon"],["type","button","aria-label","Add Product","matTooltip","Add product","class","btn-icon",3,"click",4,"ngIf"],[1,"grid","grid-cols-1","lg:grid-cols-4","gap-8"],[1,"p-4","lg:col-span-1","self-start","border-t-2"],[1,"text-xl","font-bold","mb-4"],[1,"space-y-4"],["for","filterName",1,"block","font-semibold","mb-2"],["id","filterName","placeholder","Enter product name",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["for","filterCategory",1,"block","font-semibold","mb-2"],["id","filterCategory",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value",""],[4,"ngFor","ngForOf"],[1,"block","font-semibold","mb-2"],[1,"flex","items-center","space-x-2"],["type","radio",3,"change","checked"],[1,"space-y-2"],[1,"flex","items-center"],["type","radio",1,"mr-2",3,"change","checked"],[1,"bg-red-600","hover:bg-red-500","text-white","font-bold","py-2","px-4","rounded","w-full",3,"click"],[1,"lg:col-span-3"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[3,"opacity-50",4,"ngIf","ngIfElse"],["class","pagination mt-4 flex justify-center items-center",4,"ngIf"],["type","button","aria-label","Add Product","matTooltip","Add product",1,"btn-icon",3,"click"],["src","../../../../../assets/add-circle-svgrepo-com.svg","alt","Add Product Icon","loading","lazy",1,"w-10","h-10"],[1,"flex","justify-center","items-center","h-64"],[1,"bg-gray-100","border","border-gray-300","text-center","p-8","rounded-lg","shadow-lg"],[1,"text-2xl","font-bold","text-gray-700"],[1,"text-gray-500","mt-2"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[3,"formSubmit","cancel","product"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","product-card p-4 border rounded shadow-lg",4,"ngFor","ngForOf"],[1,"product-card","p-4","border","rounded","shadow-lg"],["loading","lazy",1,"w-full","h-48","object-cover","mb-2",3,"src","alt"],[1,"font-bold","text-lg"],[1,"text-gray-500"],[1,"text-gray-700","font-semibold"],[4,"ngIf","ngIfElse"],[1,"flex","space-x-2","mt-2"],[1,"bg-blue-500","hover:bg-blue-400","text-white","p-2","rounded","w-full",3,"click"],[1,"hover:bg-red-500","border","text-white","p-2","rounded",3,"click"],["viewBox","0 0 24 24","fill","currentColor","xmlns","http://www.w3.org/2000/svg",1,"w-8","h-8"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M12 2.75C11.0215 2.75 10.1871 3.37503 9.87787 4.24993C9.73983 4.64047 9.31134 4.84517 8.9208 4.70713C8.53026 4.56909 8.32557 4.1406 8.46361 3.75007C8.97804 2.29459 10.3661 1.25 12 1.25C13.634 1.25 15.022 2.29459 15.5365 3.75007C15.6745 4.1406 15.4698 4.56909 15.0793 4.70713C14.6887 4.84517 14.2602 4.64047 14.1222 4.24993C13.813 3.37503 12.9785 2.75 12 2.75Z","fill","#1C274C"],["d","M2.75 6C2.75 5.58579 3.08579 5.25 3.5 5.25H20.5001C20.9143 5.25 21.2501 5.58579 21.2501 6C21.2501 6.41421 20.9143 6.75 20.5001 6.75H3.5C3.08579 6.75 2.75 6.41421 2.75 6Z","fill","#1C274C"],["d","M5.91508 8.45011C5.88753 8.03681 5.53015 7.72411 5.11686 7.75166C4.70356 7.77921 4.39085 8.13659 4.41841 8.54989L4.88186 15.5016C4.96735 16.7844 5.03641 17.8205 5.19838 18.6336C5.36678 19.4789 5.6532 20.185 6.2448 20.7384C6.83639 21.2919 7.55994 21.5307 8.41459 21.6425C9.23663 21.75 10.2751 21.75 11.5607 21.75H12.4395C13.7251 21.75 14.7635 21.75 15.5856 21.6425C16.4402 21.5307 17.1638 21.2919 17.7554 20.7384C18.347 20.185 18.6334 19.4789 18.8018 18.6336C18.9637 17.8205 19.0328 16.7844 19.1183 15.5016L19.5818 8.54989C19.6093 8.13659 19.2966 7.77921 18.8833 7.75166C18.47 7.72411 18.1126 8.03681 18.0851 8.45011L17.6251 15.3492C17.5353 16.6971 17.4712 17.6349 17.3307 18.3405C17.1943 19.025 17.004 19.3873 16.7306 19.6431C16.4572 19.8988 16.083 20.0647 15.391 20.1552C14.6776 20.2485 13.7376 20.25 12.3868 20.25H11.6134C10.2626 20.25 9.32255 20.2485 8.60915 20.1552C7.91715 20.0647 7.54299 19.8988 7.26957 19.6431C6.99616 19.3873 6.80583 19.025 6.66948 18.3405C6.52891 17.6349 6.46488 16.6971 6.37503 15.3492L5.91508 8.45011Z","fill","#1C274C"],["d","M9.42546 10.2537C9.83762 10.2125 10.2051 10.5132 10.2464 10.9254L10.7464 15.9254C10.7876 16.3375 10.4869 16.7051 10.0747 16.7463C9.66256 16.7875 9.29502 16.4868 9.25381 16.0746L8.75381 11.0746C8.71259 10.6625 9.0133 10.2949 9.42546 10.2537Z","fill","#1C274C"],["d","M15.2464 11.0746C15.2876 10.6625 14.9869 10.2949 14.5747 10.2537C14.1626 10.2125 13.795 10.5132 13.7538 10.9254L13.2538 15.9254C13.2126 16.3375 13.5133 16.7051 13.9255 16.7463C14.3376 16.7875 14.7051 16.4868 14.7464 16.0746L15.2464 11.0746Z","fill","#1C274C"],[1,"text-red-500"],[1,"text-center","text-gray-600"],[1,"pagination","mt-4","flex","justify-center","items-center"],["type","button",1,"border-gray-400","hover:bg-gray-300","border-2","text-black","font-bold","py-2","px-4","rounded-full","flex","items-center",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5","mr-1"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19l-7-7 7-7"],[1,"mx-2"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5l7 7-7 7"]],template:function(n,r){if(n&1){let a=I();o(0,"h1",2),l(1,"Product List"),s(),o(2,"div",3)(3,"div",4)(4,"button",5),f("click",function(){return v(a),y(r.logout())}),h(5,"img",6),s(),p(6,Ln,2,0,"button",7),s(),o(7,"div",8)(8,"aside",9)(9,"h2",10),l(10,"Filters"),s(),o(11,"div",11)(12,"div")(13,"label",12),l(14,"Name"),s(),o(15,"input",13),ot("ngModelChange",function(b){return v(a),rt(r.filterName,b)||(r.filterName=b),y(b)}),f("ngModelChange",function(){return v(a),y(r.resetPagination())}),s()(),o(16,"div")(17,"label",14),l(18,"Category"),s(),o(19,"select",15),ot("ngModelChange",function(b){return v(a),rt(r.filterCategory,b)||(r.filterCategory=b),y(b)}),f("ngModelChange",function(){return v(a),y(r.resetPagination())}),o(20,"option",16),l(21,"All Categories"),s(),p(22,jn,2,1,"option",17),s()(),o(23,"div")(24,"label",18),l(25,"Availability"),s(),o(26,"div",19)(27,"input",20),f("change",function(){return v(a),r.filterAvailability.set("true"),y(r.resetPagination())}),s(),o(28,"label"),l(29,"In Stock"),s()(),o(30,"div",19)(31,"input",20),f("change",function(){return v(a),r.filterAvailability.set("false"),y(r.resetPagination())}),s(),o(32,"label"),l(33,"Out of Stock"),s()()(),o(34,"div")(35,"label",18),l(36,"Price Range"),s(),o(37,"div",21)(38,"label",22)(39,"input",23),f("change",function(){return v(a),r.filterPriceRange.set("low"),y(r.resetPagination())}),s(),o(40,"span"),l(41,"Below $50"),s()(),o(42,"label",22)(43,"input",23),f("change",function(){return v(a),r.filterPriceRange.set("medium"),y(r.resetPagination())}),s(),o(44,"span"),l(45,"$50 - $100"),s()(),o(46,"label",22)(47,"input",23),f("change",function(){return v(a),r.filterPriceRange.set("high"),y(r.resetPagination())}),s(),o(48,"span"),l(49,"Above $100"),s()()()(),o(50,"button",24),f("click",function(){return v(a),y(r.resetFilters())}),l(51," Clear Filters "),s()()(),o(52,"section",25),p(53,Un,6,0,"div",26)(54,Gn,2,1,"div",27)(55,$n,3,3,"div",28)(56,Wn,2,0,"ng-template",null,0,U)(58,zn,9,4,"div",29),s()()()}if(n&2){let a=L(57);d(6),c("ngIf",!r.isAddingProduct&&!r.selectedProduct()),d(9),nt("ngModel",r.filterName),d(4),nt("ngModel",r.filterCategory),d(3),c("ngForOf",r.categories()),d(5),c("checked",r.filterAvailability()==="true"),d(4),c("checked",r.filterAvailability()==="false"),d(8),c("checked",r.filterPriceRange()==="low"),d(4),c("checked",r.filterPriceRange()==="medium"),d(4),c("checked",r.filterPriceRange()==="high"),d(6),c("ngIf",r.filteredProducts().length===0),d(),c("ngIf",r.isAddingProduct||r.selectedProduct()),d(),c("ngIf",r.products().length>0&&!r.selectedProduct()&&!r.isAddingProduct)("ngIfElse",a),d(3),c("ngIf",r.hasMultiplePages())}},dependencies:[H,je,B,xi,Je,Xe,T,pe,Z,vt,Ai],changeDetection:0})}}return t})();function Yn(t,i){t&1&&(o(0,"p",13),l(1," This field is mandatory "),s())}function Zn(t,i){t&1&&(o(0,"p",13),l(1," Enter a valid email "),s())}function Kn(t,i){t&1&&(o(0,"p",13),l(1," This field should be a valid email "),s())}function Jn(t,i){if(t&1&&(o(0,"div"),p(1,Yn,2,0,"p",12)(2,Zn,2,0,"p",12)(3,Kn,2,0,"p",12),s()),t&2){let e=_(2);d(),c("ngIf",e.formUser.controls.email.hasError("required")),d(),c("ngIf",e.formUser.controls.email.hasError("email")),d(),c("ngIf",e.formUser.controls.email.hasError("email"))}}function Xn(t,i){t&1&&(be(0),l(1,"Loading..."),we())}function Qn(t,i){t&1&&l(0,"Continue")}function er(t,i){if(t&1){let e=I();o(0,"div",3)(1,"h1",4),l(2,"Enter your data"),s(),o(3,"form",5),f("ngSubmit",function(){v(e);let r=_();return y(r.validateUser())}),o(4,"div")(5,"label",6),l(6,"Email"),s(),o(7,"div",7),h(8,"input",8),s(),p(9,Jn,4,3,"div",9),s(),o(10,"div")(11,"button",10),p(12,Xn,2,0,"ng-container",11)(13,Qn,1,0,"ng-template",null,0,U),s()()()()}if(t&2){let e=L(14),n=_();d(3),c("formGroup",n.formUser),d(6),c("ngIf",n.formUser.controls.email.touched&&n.formUser.controls.email.invalid),d(3),c("ngIf",n.status()===n.AuthStatus.Loading)("ngIfElse",e)}}function tr(t,i){t&1&&(o(0,"p",13),l(1," Name is required "),s())}function ir(t,i){t&1&&(o(0,"p",13),l(1," Name cannot be only whitespace "),s())}function nr(t,i){if(t&1&&(o(0,"div"),p(1,tr,2,0,"p",12)(2,ir,2,0,"p",12),s()),t&2){let e=_(2);d(),c("ngIf",e.form.controls.name.hasError("required")),d(),c("ngIf",e.form.controls.name.hasError("required"))}}function rr(t,i){t&1&&(o(0,"p",13),l(1," Email is required "),s())}function or(t,i){t&1&&(o(0,"p",13),l(1," Enter a valid email "),s())}function sr(t,i){if(t&1&&(o(0,"div"),p(1,rr,2,0,"p",12)(2,or,2,0,"p",12),s()),t&2){let e=_(2);d(),c("ngIf",e.form.controls.email.hasError("required")),d(),c("ngIf",e.form.controls.email.hasError("email"))}}function ar(t,i){t&1&&(o(0,"p",13),l(1," Password is required "),s())}function lr(t,i){t&1&&(o(0,"p",13),l(1," Password must be at least 8 characters "),s())}function dr(t,i){t&1&&(o(0,"p",13),l(1," Password must be between 8 and 16 characters "),s())}function cr(t,i){t&1&&(o(0,"p",13),l(1," Password must contain at least one number "),s())}function ur(t,i){t&1&&(o(0,"p",13),l(1," Password must contain at least one uppercase letter "),s())}function mr(t,i){t&1&&(o(0,"p",13),l(1," Password must contain at least one lowercase letter "),s())}function hr(t,i){t&1&&(o(0,"p",13),l(1," Password must contain at least one special character "),s())}function pr(t,i){if(t&1&&(o(0,"div"),p(1,ar,2,0,"p",12)(2,lr,2,0,"p",12)(3,dr,2,0,"p",12)(4,cr,2,0,"p",12)(5,ur,2,0,"p",12)(6,mr,2,0,"p",12)(7,hr,2,0,"p",12),s()),t&2){let e=_(2);d(),c("ngIf",e.form.controls.password.hasError("required")),d(),c("ngIf",e.form.controls.password.hasError("minlength")),d(),c("ngIf",e.form.controls.password.hasError("lenMaxMin")),d(),c("ngIf",e.form.controls.password.hasError("hasNumber")),d(),c("ngIf",e.form.controls.password.hasError("hasUpper")),d(),c("ngIf",e.form.controls.password.hasError("hasLower")),d(),c("ngIf",e.form.controls.password.hasError("hasSpecial"))}}function fr(t,i){t&1&&(o(0,"p",13),l(1," Confirming password is required "),s())}function gr(t,i){if(t&1&&(o(0,"div"),p(1,fr,2,0,"p",12),s()),t&2){let e=_(2);d(),c("ngIf",e.form.controls.confirmPassword.hasError("required"))}}function _r(t,i){t&1&&(o(0,"div",32),l(1," Passwords do not match "),s())}function vr(t,i){t&1&&(o(0,"div",32),l(1," You must agree to the terms "),s())}function yr(t,i){t&1&&(be(0),l(1,"Loading..."),we())}function Cr(t,i){t&1&&l(0,"Register")}function br(t,i){if(t&1){let e=I();o(0,"div",3)(1,"h1",4),l(2,"Register"),s(),o(3,"form",5),f("ngSubmit",function(){v(e);let r=_();return y(r.register())}),o(4,"div")(5,"label",14),l(6,"Name"),s(),o(7,"div",7),h(8,"input",15),s(),p(9,nr,3,2,"div",9),s(),o(10,"div")(11,"label",6),l(12,"Email"),s(),o(13,"div",7),h(14,"input",16),s(),p(15,sr,3,2,"div",9),s(),o(16,"div")(17,"label",17),l(18,"Password"),s(),o(19,"div",7),h(20,"input",18),o(21,"button",19),f("click",function(){v(e);let r=_();return y(r.showPassword.set(!r.showPassword()))}),h(22,"img",20),s()(),p(23,pr,8,7,"div",9),s(),o(24,"div")(25,"label",21),l(26,"Confirm Password"),s(),o(27,"div",7),h(28,"input",22),s(),p(29,gr,2,1,"div",9)(30,_r,2,0,"div",23),s(),o(31,"div",24),h(32,"input",25),o(33,"label",26),l(34,"Male"),s(),h(35,"input",27),o(36,"label",28),l(37,"Female"),s()(),o(38,"div"),h(39,"input",29),o(40,"label",30),l(41,"I agree to terms and conditions"),s(),p(42,vr,2,0,"div",23),s(),o(43,"div")(44,"button",31),p(45,yr,2,0,"ng-container",11)(46,Cr,1,0,"ng-template",null,1,U),s()()()()}if(t&2){let e=L(47),n=_();d(3),c("formGroup",n.form),d(6),c("ngIf",n.form.controls.name.touched&&n.form.controls.name.invalid),d(6),c("ngIf",n.form.controls.email.touched&&n.form.controls.email.invalid),d(5),c("type",n.showPassword()?"text":"password"),d(2),c("src",n.showPassword()?"https://img.icons8.com/?size=100&id=85028&format=png&color=000000":"https://img.icons8.com/?size=100&id=22021&format=png&color=000000 ",se),d(),c("ngIf",n.form.controls.password.touched&&n.form.controls.password.invalid),d(6),c("ngIf",n.form.controls.confirmPassword.touched&&n.form.controls.confirmPassword.invalid),d(),c("ngIf",n.form.hasError("mismatch")),d(12),c("ngIf",n.form.controls.agreeTerms.touched&&n.form.controls.agreeTerms.invalid),d(2),c("disabled",n.status()===n.AuthStatus.Loading),d(),c("ngIf",n.status()===n.AuthStatus.Loading)("ngIfElse",e)}}var Ii=(()=>{class t{constructor(e,n,r,a){this.fb=e,this.authService=n,this.router=r,this.handler=a,this.showRegister=C(!1),this.formUser=this.fb.nonNullable.group({email:["",[g.required,g.email,x.noLeadingOrTrailingWhitespaceValidator]]}),this.form=this.fb.nonNullable.group({name:["",[g.required,x.noWhitespaceValidator]],email:["",[g.required,g.email]],password:["",[g.required,g.minLength(8),x.validRegExp]],confirmPassword:["",g.required],gender:["",g.required],agreeTerms:[!1,g.requiredTrue]},{validators:[x.MatchValidator("password","confirmPassword")]}),this.status=C(V.Init),this.AuthStatus=V,this.showPassword=C(!1)}validateUser(){if(this.formUser.valid){this.status.set(V.Loading);let{email:e}=this.formUser.getRawValue();this.authService.isAvailable(e).subscribe({next:n=>{this.status.set(V.Success),n.isAvailable?(this.showRegister.set(!0),this.form.controls.email.setValue(e)):this.router.navigate(["/login"],{queryParams:{email:e}})},error:n=>{this.handler.handleError("Error validating email",n),this.status.set(V.Failed)}})}else this.formUser.markAllAsTouched()}register(){if(this.form.valid){this.status.set(V.Loading);let{name:e,email:n,password:r}=this.form.getRawValue();this.authService.register(e,n,r).subscribe({next:()=>{this.status.set(V.Success),this.router.navigate(["/products"])},error:()=>{this.status.set(V.Failed)}})}else this.form.markAllAsTouched()}static{this.\u0275fac=function(n){return new(n||t)(m(fe),m(K),m(q),m(_e))}}static{this.\u0275cmp=S({type:t,selectors:[["app-register-form"]],standalone:!0,features:[F],decls:2,vars:2,consts:[["continueText",""],["registerText",""],["class","bg-white rounded-lg p-6",4,"ngIf"],[1,"bg-white","rounded-lg","p-6"],[1,"text-center","font-bold","py-2","text-gray-700"],["novalidate","",1,"space-y-4",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative"],["id","email","formControlName","email","placeholder","example@mail.com","type","email","name","email",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2","p-2","focus:ring","focus:ring-blue-500"],[4,"ngIf"],["type","submit",1,"bg-blue-500","text-white","p-2","rounded","w-full","focus:ring","focus:ring-blue-500"],[4,"ngIf","ngIfElse"],["class","text-red-500 text-xs mt-1 ml-1",4,"ngIf"],[1,"text-red-500","text-xs","mt-1","ml-1"],["for","name",1,"block","text-sm","font-medium","text-gray-700"],["id","name","formControlName","name","placeholder","Enter your name","type","text","name","name",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2","p-2","focus:ring","focus:ring-blue-500"],["id","email","formControlName","email","placeholder","Enter email","type","email","name","email",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2","p-2","focus:ring","focus:ring-blue-500"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","formControlName","password","placeholder","Enter password",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2","p-2","focus:ring","focus:ring-blue-500",3,"type"],["type","button","aria-label","Toggle Password Visibility",1,"absolute","right-2","top-2",3,"click"],["alt","Toggle Password Visibility",1,"w-6","h-6",3,"src"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm password","type","password",1,"w-full","rounded","bg-gray-100","border-gray-300","border-2","p-2","focus:ring","focus:ring-blue-500"],["class","text-red-500 text-xs",4,"ngIf"],[1,"flex","items-center"],["id","male","type","radio","formControlName","gender","value","male",1,"mr-2"],["for","male",1,"text-sm","font-medium","text-gray-700"],["id","female","type","radio","formControlName","gender","value","female",1,"ml-4","mr-2"],["for","female",1,"text-sm","font-medium","text-gray-700"],["id","agreeTerms","type","checkbox","formControlName","agreeTerms",1,"mr-2"],["for","agreeTerms",1,"text-sm","font-medium","text-gray-700"],["type","submit",1,"bg-blue-500","text-white","p-2","rounded","w-full","focus:ring","focus:ring-blue-500",3,"disabled"],[1,"text-red-500","text-xs"]],template:function(n,r){n&1&&p(0,er,15,4,"div",2)(1,br,48,12,"div",2),n&2&&(c("ngIf",!r.showRegister()),d(),c("ngIf",r.showRegister()))},dependencies:[ge,he,T,De,Ct,Z,me,te,ie,H,B],changeDetection:0})}}return t})();var Pi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=S({type:t,selectors:[["app-register"]],standalone:!0,features:[F],decls:15,vars:0,consts:[[1,"w-screen","h-screen","bg-gray-50","flex","items-center","justify-center","sm:shadow-lg"],[1,"relative","w-full","sm:w-7/12","md:w-6/12","lg:w-4/12","bg-white","rounded","shadow-lg","py-4","px-4","md:px-9"],[1,"py-6","flex","flex-col","items-center","space-y-4"],[1,"text-5xl","font-extrabold","text-transparent","bg-clip-text","bg-gradient-to-r","from-blue-600","to-purple-600","drop-shadow-md","p-3"],["width","80px","height","80px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","12","cy","9","r","3","stroke","#1C274C","stroke-width","1.5"],["d","M17.9691 20C17.81 17.1085 16.9247 15 11.9999 15C7.07521 15 6.18991 17.1085 6.03076 20","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],["d","M7 3.33782C8.47087 2.48697 10.1786 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 10.1786 2.48697 8.47087 3.33782 7","stroke","#1C274C","stroke-width","1.5","stroke-linecap","round"],[1,"mb-4"],[1,"my-4","border-b-1","border-r-gray-300"],[1,"flex","justify-center","items-center","space-x-0","space-y-2","md:space-x-2","md:space-y-0","flex-col","md:flex-row"],["routerLink","/login",1,"text-blue-600"]],template:function(n,r){n&1&&(o(0,"div",0)(1,"div",1)(2,"header",2)(3,"h1",3),l(4," Sign Up! "),s(),R(),o(5,"svg",4),h(6,"circle",5)(7,"path",6)(8,"path",7),s()(),ne(),o(9,"div",8),h(10,"app-register-form"),s(),h(11,"hr",9),o(12,"div",10)(13,"a",11),l(14,"Return to log in"),s()()()())},dependencies:[Ii,Ge,Ue],changeDetection:0})}}return t})();var Ni=[{path:"login",component:Si},{path:"register",component:Pi},{path:"products",component:Mi,canActivate:[Fi]},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login"}];var ki={providers:[Ht(Ni),jt(),Pt(),Rt()]};var wr={providers:[Ut()]},Ti=Tt(ki,wr);var Vr=()=>Lt(qt,Ti),is=Vr;export{is as a};
